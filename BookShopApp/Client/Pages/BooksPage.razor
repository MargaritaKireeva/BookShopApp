@page "/Genres/GetBooks/{genreId}"
@* написать типо всё в контроллер жанров *@
@using BookShopApp.Shared
@inject HttpClient Http

<PageTitle>books</PageTitle>

@* <h1>Книги жанра @genreId</h1> *@

<p>This component demonstrates fetching data from the server.</p>

@if (books == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <ul>
        @foreach (var book in books)
        {
            <li>book.Title</li>
            @* <li><a href="/genres/@genreId/@book.Id"> @book.Title</a></li> *@
        }
    </ul>
}


@code {
    [Parameter]
    public string genreId { get; set; }

    private List<Book> books { get; set; }

    protected override async Task OnInitializedAsync()
    {
        //books = await Http.GetFromJsonAsync<List<Book>>($"api/Books/GetBooksByGenre/{genre}");
        books = await Http.GetFromJsonAsync<List<Book>>("GetBooks/{genreId}");
    }
}
